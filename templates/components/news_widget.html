{% macro news_widget(region_id) %}
<div class="news-container" id="news-{{ region_id }}">
    <h4><i class="fas fa-newspaper me-2"></i>Noticias</h4>
    <div class="card">
        <div class="card-body p-2">
            <div class="text-center py-3">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Cargando...</span>
                </div>
                <p class="mt-2 mb-0">Cargando noticias...</p>
            </div>
        </div>
    </div>
</div>
{% endmacro %}

{% macro render_news_data(articles) %}
<div class="p-2">
    {% if articles and articles|length > 0 %}
        {% for article in articles %}
            <div class="news-item">
                <h6 class="mb-1">
                    <a href="{{ article.url }}" target="_blank" rel="noopener noreferrer">
                        {{ article.title }}
                    </a>
                </h6>
                <p class="mb-1 small">{{ article.description|default('') }}</p>
                <div class="news-source">
                    {{ article.source }} - {{ article.published_at|format_date }}
                </div>
            </div>
        {% endfor %}
    {% else %}
        <div class="alert alert-info mb-0">
            <i class="fas fa-info-circle me-2"></i>No hay noticias relevantes para esta regi√≥n en este momento.
        </div>
    {% endif %}
</div>
{% endmacro %}

{% macro render_news_error() %}
<div class="alert alert-warning mb-0">
    <i class="fas fa-exclamation-triangle me-2"></i>No se pudieron cargar las noticias.
</div>
{% endmacro %}